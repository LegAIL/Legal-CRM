(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2840],{2840:function(e,s,t){Promise.resolve().then(t.bind(t,2773)),Promise.resolve().then(t.bind(t,668)),Promise.resolve().then(t.bind(t,7668)),Promise.resolve().then(t.bind(t,2759)),Promise.resolve().then(t.t.bind(t,2972,23))},2773:function(e,s,t){"use strict";t.d(s,{default:function(){return h}});var a=t(7437),r=t(2265),l=t(6070),n=t(2869),c=t(5710),i=t(9397),d=t(5868),o=t(8736),u=t(2369);let m=(0,t(9205).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var f=t(2135),x=t(875),h=(0,r.memo)(function({initialActivities:e}){let[s,t]=(0,r.useState)(e||[]),[h,p]=(0,r.useState)(!1),[v,N]=(0,r.useState)(!e);(0,r.useEffect)(()=>{e||(async()=>{try{let e=await fetch("/api/activities");if(e.ok){let s=await e.json();t(s)}}catch(e){console.error("Failed to fetch activities:",e)}finally{N(!1)}})()},[e]);let j=e=>{switch(e){case"case_created":return i.Z;case"status_changed":return d.Z;case"file_uploaded":return o.Z;case"case_assigned":return u.Z;default:return m}},g=e=>{switch(e){case"case_created":return"text-green-400";case"status_changed":return"text-blue-400";case"file_uploaded":return"text-purple-400";case"case_assigned":return"text-orange-400";default:return"text-gray-400"}},y=h?s:s?.slice(0,5),b=s?.length>5;return(0,a.jsxs)(l.Zb,{className:"glass card-hover",children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center space-x-2",children:[(0,a.jsx)(m,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Recent Activity"})]}),(0,a.jsx)(l.SZ,{children:"Latest activities across all cases"})]}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[v&&(0,a.jsx)("div",{className:"text-center py-6 text-muted-foreground",children:"Loading activities..."}),!v&&y?.map(e=>{let s=j(e.type),t=g(e.type),r=e.user?.name||`${e.user?.firstName||""} ${e.user?.lastName||""}`.trim()||"System";return a.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-border/50 hover:bg-accent/50 transition-colors",children:[a.jsx("div",{className:`p-2 rounded-full bg-muted ${t}`,children:a.jsx(s,{className:"h-3 w-3"})}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium",children:e.description}),a.jsx("span",{className:"text-xs text-muted-foreground",children:c.Q(new Date(e.createdAt),{addSuffix:!0})})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["by ",r]}),e.case?.title&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"â€¢"}),a.jsx("span",{className:"text-primary",children:e.case.title})]})]})]})]},e.id)}),!v&&s?.length===0&&(0,a.jsx)("div",{className:"text-center py-6 text-muted-foreground",children:"No recent activity"}),!v&&b&&(0,a.jsx)("div",{className:"text-center pt-4",children:(0,a.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>p(!h),className:"flex items-center gap-2",children:h?(0,a.jsxs)(a.Fragment,{children:["Visa f\xe4rre",(0,a.jsx)(f.Z,{className:"h-4 w-4"})]}):(0,a.jsxs)(a.Fragment,{children:["Se alla (",s?.length||0,")",(0,a.jsx)(x.Z,{className:"h-4 w-4"})]})})})]})})]})})},668:function(e,s,t){"use strict";t.d(s,{default:function(){return c}});var a=t(7437),r=t(6070);let l=(0,t(9205).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var n=t(2265),c=(0,n.memo)(function({initialStats:e}){let[s,t]=(0,n.useState)(e||{NEW:0,IN_PROGRESS:0,REVIEW:0,COMPLETED:0}),[c,i]=(0,n.useState)(!e);(0,n.useEffect)(()=>{e||(async()=>{try{let e=await fetch("/api/cases/stats");if(e.ok){let s=await e.json();t(s)}}catch(e){console.error("Failed to fetch case stats:",e)}finally{i(!1)}})()},[e]);let d=Object.values(s).reduce((e,s)=>e+s,0),o=[{name:"New",value:s.NEW,color:"bg-blue-500",percentage:d>0?s.NEW/d*100:0},{name:"In Progress",value:s.IN_PROGRESS,color:"bg-yellow-500",percentage:d>0?s.IN_PROGRESS/d*100:0},{name:"Review",value:s.REVIEW,color:"bg-purple-500",percentage:d>0?s.REVIEW/d*100:0},{name:"Completed",value:s.COMPLETED,color:"bg-green-500",percentage:d>0?s.COMPLETED/d*100:0}];return(0,a.jsxs)(r.Zb,{className:"glass card-hover",children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center space-x-2",children:[(0,a.jsx)(l,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Case Distribution"})]}),(0,a.jsx)(r.SZ,{children:"Overview of cases by status"})]}),(0,a.jsx)(r.aY,{children:c?(0,a.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,a.jsxs)("div",{className:"space-y-4",children:[o.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:`w-3 h-3 rounded-full ${e.color}`}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-24 bg-muted rounded-full h-2",children:(0,a.jsx)("div",{className:`h-2 rounded-full ${e.color}`,style:{width:`${e.percentage}%`}})}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground w-8 text-right",children:e.value})]})]},s)),0===d&&(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No cases found"})]})})]})})},6070:function(e,s,t){"use strict";t.d(s,{Ol:function(){return c},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},eW:function(){return u},ll:function(){return i}});var a=t(7437),r=t(2265),l=t(4508);let n=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));c.displayName="CardHeader";let i=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));i.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent";let u=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s}));u.displayName="CardFooter"},2759:function(e,s,t){"use strict";t.d(s,{Progress:function(){return c}});var a=t(7437),r=t(2265),l=t(610),n=t(4508);let c=r.forwardRef(({className:e,value:s,...t},r)=>(0,a.jsx)(l.fC,{ref:r,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:(0,a.jsx)(l.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));c.displayName=l.fC.displayName},5868:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}}]);